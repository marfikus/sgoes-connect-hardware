
# Sgoes Connect. Hardware-part (Arduino sketch).

Первая часть моего небольшого программно-аппаратного комплекса для работы с датчиками-сигнализаторами горючих газов "СГОЭС".

[Репозиторий программной части](https://github.com/marfikus/sgoes-connect-software)

Пока короткое описание, позже буду дополнять =).

Данный скетч позволяет реализовать примитивный обмен данными по протоколу Modbus RTU.

Ведущим (master) устройством является смартфон с установленным [приложением](https://github.com/marfikus/sgoes-connect-software), позволяющим отправлять и принимать Modbus-пакеты. Ведомым (slave) устройством в данном случае является датчик-сигнализатор горючих газов "СГОЭС".

В качестве устройства сопряжения(адаптера) используется связка: 
    модуль Bluetooth(HC-05) <=> плата Arduino(Nano, Uno..) <=> микросхема MAX3082(приёмопередатчик RS-485).

Смартфон посылает запрос по bluetooth-каналу, arduino его принимает, немного парсит (определяет длину) и отправляет в линию RS-485 к датчику. Датчик отвечает, arduino принимает этот ответ, тоже немного парсит и отправляет по bluetooth в смартфон.

Электрическая схема данного адаптера:
![Schematic_sgoes_2020-09-21](/Schematic_sgoes_2020-09-21.png "Schematic_sgoes_2020-09-21")
